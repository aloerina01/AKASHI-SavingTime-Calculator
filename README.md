# AKASHI-SavingTime-Calculator

フレックス勤務の月間労働貯金時間を計算するChrome拡張機能


## インストール方法

### 1. リポジトリのクローン

```bash
git clone <リポジトリURL>
cd AKASHI-SavingTime-Calculator
```

### 2. 依存関係のインストール

```bash
npm install
```

### 3. ビルド

```bash
npm run build
```

ビルドが完了すると、`dist`ディレクトリに拡張機能のファイルが生成されます。

### 4. Chrome拡張機能として読み込む

1. Chromeブラウザで `chrome://extensions/` を開く
2. 右上の「デベロッパーモード」トグルを有効にする
3. 「パッケージ化されていない拡張機能を読み込む」ボタンをクリック
4. ファイル選択ダイアログで、このプロジェクトの **`dist`ディレクトリ** を選択
5. 拡張機能がインストールされます

## 使い方

1. 出勤簿ページを開く
2. ページが読み込まれると、自動的に以下の処理が実行されます：
   - 各日の労働時間の横に貯金時間が `(時:分)` 形式で表示されます
   - テーブルの右端に「累計貯金時間」列が追加されます
   - 負の値は赤色、正の値は青色で表示されます

## 開発モード

開発中は、ファイル変更を自動検知して再ビルドする開発モードを使用できます：

```bash
npm run dev
```

このコマンドを実行すると、`src`ディレクトリ内のファイルを変更するたびに自動的に再ビルドされます。Chrome拡張機能の再読み込みは、`chrome://extensions/`ページで拡張機能の「再読み込み」ボタンをクリックしてください。

## プロジェクト構造

```
.
├── src/
│   ├── manifest.json      # Chrome拡張機能のマニフェスト
│   ├── background.ts      # バックグラウンドスクリプト
│   ├── content.ts         # コンテンツスクリプト（勤怠計算のメインロジック）
│   ├── popup.ts           # ポップアップスクリプト
│   ├── popup.html         # ポップアップHTML
│   └── utils/
│       └── timeUtils.ts   # 時間変換ユーティリティ
├── dist/                  # ビルド出力（gitignore）
├── build.js               # esbuildビルドスクリプト
├── tsconfig.json          # TypeScript設定
└── package.json
```

## 技術スタック

- **TypeScript**
- **esbuild**

## 注意事項

- 勤務表ページが非同期で読み込まれるため、テーブルが表示されるまで自動的に待機します
- 標準労働時間は8時間（480分）として計算されます
